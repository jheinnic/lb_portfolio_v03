default:
 - 'build'

test:
 - 'jshint'
 - 'test-unit'
 - 'test-e2e'

test-unit:
 - 'karma:unit'

test-unit-chrome:
 - 'karma:unit-chrome'

test-coverage:
 - 'karma:unit_coverage'

coverage:
 - 'karma:unit_coverage'
 - 'open:coverage'
 - 'connect:coverage'

spec: #continuous running specs
 - 'dev-build'
 - 'concurrent:unit-mocha'

spec-chrome:
 - 'dev-build'
 - 'concurrent:chrome'

test-e2e:
 - 'shell:protractor_update'
 - 'connect:testserver'
 - 'protractor:run'

test-e2e-firefox:
 - 'shell:protractor_update'
 - 'connect:testserver'
 - 'protractor:firefox'

# cause zsh always puts me in grunt folder
# d:
# - 'default'
# s:
# - 'serve'

dev:
 - 'connect:devserver'
 - 'open:devserver'
 - 'watch:source'

dev-chrome:
 - 'connect:devserver'
 - 'open:devserver'
 - 'watch:chrome'

dev-test-unit:
 - 'clean'
 - 'dev-build'
 - 'concurrent:unit'

serve:
 - 'concurrent:watchServe'

#
# Build steps
#

reset:
 - 'clean'
 - 'mkdir'

build:
 - 'dev-build'
 - 'dist-build'

# TODO: Put jade back in!
dev-build:
 - 'jshint'
 - 'copy:dev'
 - 'less'
 - 'bundle-client'
 - 'autoprefixer'
 - 'jade'
 - 'wiredep'
 - 'htmlbuild'

dist-build:
 - 'copy:dist'
 - 'useminPrepare:index'
 - 'concat'
 - 'uglify'
 - 'cssmin'
 - 'filerev'
 - 'usemin'

# TODO
after-css:
 - 'imagemin'
 - 'svgmin'

bootstrap:
 - 'shell:npm_install'
 - 'bower:install'
 - 'shell:protractor_update'

# Future/TBD

travis:
 - 'bower:install'
 - 'dev-build'
 - 'test-unit'

bump-@:
 - 'changelog'
 - 'bump-only'
 - 'default'
 - 'graph'
 - 'bump-commit'

bump-@-minor:
 - 'changelog'
 - 'bump-only:minor'
 - 'default'
 - 'graph'
 - 'bump-commit'

bump-@-major:
 - 'changelog'
 - 'bump-only:major'
 - 'default'
 - 'graph'
 - 'bump-commit'

examples:
 - 'shell:examples'
 - 'concat:examples'

graph:
 - 'angular_architecture_graph'
